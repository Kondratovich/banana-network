{"version":3,"sources":["assets/images/photo.jpg","hoc/withAuthRedirect.js","redux/dialogs-reducer.js","components/Users/Users.module.css","api/api.js","components/Navbar/Navbar.module.css","reportWebVitals.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/Common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","utils/object-helpers.js","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","App.js","index.js","components/Common/FormsControls/FormsControls.module.css","components/Common/FormsControls/FormsControls.js","assets/images/preloader.png","components/Common/Preloader/Preloader.jsx","components/Header/Header.module.css","components/Common/Paginator/Paginator.module.css","utils/validators/validators.js","redux/profile-reducer.js"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","SEND_MESSAGE","sendMessage","newMessageBody","type","initialState","dialogs","id","name","messages","message","dialogsReducer","action","newMessageText","module","exports","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","authAPI","me","login","email","password","rememberMe","logout","profileAPI","getProfile","getStatus","updateStatus","status","put","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Header","className","s","header","img","src","alt","loginBlock","onClick","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","HeaderContainer","Navbar","nav","item","activeClassName","active","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","filter","p","map","cn","selectedPage","pageNumber","e","User","user","followingInProgress","photos","small","userPhoto","class","followed","disabled","some","Users","users","u","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_IN_PROGRESS","totalUsersCount","isFetching","followSuccess","unfollowSuccess","setUsers","setCurrentPage","setTotalUsersCount","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getFollowingInProgress","getIsFetching","UsersContainer","requestingUsers","Preloader","compose","bind","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","style","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","window","DialogsContainer","lazy","ProfileContainer","App","initializeApp","Suspense","fallback","path","render","AppContainer","withRouter","promise","Promise","all","BananaJsApp","basename","process","ReactDOM","StrictMode","document","getElementById","FormControl","input","meta","hasError","touched","styles","formControl","children","Textarea","restProps","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPost","newPostBody","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.56bffd74.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/photo.d25d283a.jpg\";","import React from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (this.props.isAuth === false) {\r\n        return <Redirect to={\"/login\"} />;\r\n      }\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n  let ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n  return ConnectedRedirectComponent;\r\n};\r\n","const SEND_MESSAGE = \"SEND-MESSAGE\";\r\n\r\nexport const sendMessage = (newMessageBody) => ({\r\n  type: SEND_MESSAGE,\r\n  newMessageBody,\r\n});\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: \"Artem\" },\r\n    { id: 2, name: \"Maxim\" },\r\n    { id: 3, name: \"Vlad\" },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hi\" },\r\n    { id: 2, message: \"Yo\" },\r\n    { id: 3, message: \"What are you doing?\" },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let newMessageText = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages,\r\n          {\r\n            id: 4,\r\n            message: newMessageText,\r\n          },\r\n        ],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1TIGR\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials: true,\r\n  headers: { \"API-KEY\": \"115bae6f-1277-41cf-8c44-258e3df69f68\" },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => response.data);\r\n  },\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`);\r\n  },\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post(`auth/login`, { email, password, rememberMe });\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`);\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/${userId}`);\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(\"profile/status\", { status: status });\r\n  },\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__31ZlJ\",\"item\":\"Navbar_item__29UK_\",\"active\":\"Navbar_active__AGZT2\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { NavLink } from \"react-router-dom\";\r\nimport s from \"./Header.module.css\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img\r\n        className={s.img}\r\n        src=\"https://svgsilh.com/svg/2491236-ffc107.svg\"\r\n        alt=\"logo\"\r\n      ></img>\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Logout</button></div> : <NavLink to={\"/login\"}>Login</NavLink>}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"./../api/api\";\r\nconst SET_USER_DATA = \"banana-network/auth/SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const getAuthUserData = () => {\r\n  return async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n      let { id, login, email } = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n  };\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n  return async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(getAuthUserData());\r\n    } else {\r\n      let message =\r\n        response.data.messages.length > 0\r\n          ? response.data.messages[0]\r\n          : \"Some error\";\r\n      dispatch(stopSubmit(\"login\", { _error: message }));\r\n    }\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return (dispatch) => {\r\n    authAPI.logout().then((response) => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import Header from \"./Header\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getAuthUserData, logout } from \"./../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAuthUserData, logout })(HeaderContainer);\r\n","import { NavLink } from \"react-router-dom\";\r\nimport s from \"./Navbar.module.css\"\r\n\r\nconst Navbar = () => {\r\n    return (\r\n      <nav className={s.nav}>\r\n        <div>\r\n          <NavLink className={s.item} activeClassName={s.active} to=\"/profile\">Profile</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink className={s.item} activeClassName={s.active} to=\"/dialogs\">Messages</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink className={s.item} activeClassName={s.active} to=\"/users\">Users</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink className={s.item} to=\"#c\">News</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink className={s.item} to=\"#c\">Music</NavLink>\r\n        </div>\r\n        <div>\r\n          <NavLink className={s.item} to=\"#c\">Settings</NavLink>\r\n        </div>\r\n      </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar","import { useState } from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\nimport cn from \"classnames\";\r\n\r\nlet Paginator = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={s.paginator}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          Prev\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p) => {\r\n          return (\r\n            <span\r\n              className={cn(\r\n                {\r\n                  [s.selectedPage]: currentPage === p,\r\n                },\r\n                s.pageNumber\r\n              )}\r\n              key={p}\r\n              onClick={(e) => {\r\n                onPageChanged(p);\r\n              }}\r\n            >\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {\r\n       portionCount>portionNumber&&<button onClick={()=>{setPortionNumber(portionNumber+1)}}>Next</button> \r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import s from \"./Users.module.css\";\r\nimport userPhoto from \"./../../assets/images/photo.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div>\r\n      <span>\r\n        <div>\r\n          <NavLink to={\"/profile/\" + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}\r\n              class={s.userPhoto}\r\n              alt=\"ava\"\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                unfollow(user.id);\r\n              }}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => {\r\n                follow(user.id);\r\n              }}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <span>\r\n          <div>{user.name}</div>\r\n          <div>{user.status}</div>\r\n        </span>\r\n        <span>\r\n          <div>{\"user.location.country\"}</div>\r\n          <div>{\"user.location.city\"}</div>\r\n        </span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({\r\n  currentPage,\r\n  totalItemsCount,\r\n  pageSize,\r\n  onPageChanged,\r\n  users,\r\n  followingInProgress,\r\n  unfollow,\r\n  follow,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalItemsCount={totalItemsCount}\r\n        pageSize={pageSize}\r\n      />\r\n      <div>\r\n        {users.map((u) => {\r\n          return (\r\n            <User\r\n              user={u}\r\n              key={u.id}\r\n              followingInProgress={followingInProgress}\r\n              unfollow={unfollow}\r\n              follow={follow}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Users;\r\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => {\r\n  return items.map((u) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps };\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { updateObjectInArray } from \"../utils/object-helpers\";\r\nimport { usersAPI } from \"./../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_IN_PROGRESS = \"TOGGLE_IS_FOLLOWING_IN_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\n\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\n\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\n\r\nexport const setCurrentPage = (pageNumber) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  pageNumber,\r\n});\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  totalUsersCount,\r\n});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\n\r\nexport const toggleFollowingInProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_IN_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n\r\nexport const requestingUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(setCurrentPage(currentPage));\r\n    dispatch(toggleIsFetching(true));\r\n    let response = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n  };\r\n};\r\n\r\nexport const followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleFollowingInProgress(true, userId));\r\n  let response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingInProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n  return async (dispatch) => {\r\n    let apiMethod = usersAPI.follow.bind(usersAPI);\r\n    let actionCreator = followSuccess;\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n  };\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return async (dispatch) => {\r\n    let apiMethod = usersAPI.unfollow.bind(usersAPI);\r\n    let actionCreator = unfollowSuccess;\r\n    followUnfollowFlow(dispatch, userId, apiMethod, actionCreator);\r\n  };\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: true,\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: false,\r\n        }),\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.pageNumber,\r\n      };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalUsersCount,\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    case TOGGLE_IS_FOLLOWING_IN_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default usersReducer;\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users.filter((u) => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  setUsers,\r\n  setCurrentPage,\r\n  setTotalUsersCount,\r\n  toggleIsFetching,\r\n  toggleFollowingInProgress,\r\n  requestingUsers,\r\n} from \"../../redux/users-reducer\";\r\nimport Preloader from \"./../Common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getIsFetching,\r\n  getUsers,\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n  componentDidMount() {\r\n    this.props.requestingUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.requestingUsers(pageNumber, this.props.pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Preloader isFetching={this.props.isFetching} />\r\n        <Users\r\n          totalItemsCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          users={this.props.users}\r\n          follow={this.props.follow}\r\n          unfollow={this.props.unfollow}\r\n          toggleFollowingInProgress={this.props.toggleFollowingInProgress}\r\n          followingInProgress={this.props.followingInProgress}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//   return {\r\n//     users: state.usersPage.users,\r\n//     pageSize: state.usersPage.pageSize,\r\n//     totalUsersCount: state.usersPage.totalUsersCount,\r\n//     currentPage: state.usersPage.currentPage,\r\n//     followingInProgress: state.usersPage.followingInProgress,\r\n//   };\r\n// };\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n    isFetching: getIsFetching(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setUsers,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    toggleIsFetching,\r\n    toggleFollowingInProgress,\r\n    requestingUsers,\r\n  }),\r\n  withAuthRedirect\r\n)(UsersContainer);\r\n","import { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { Input } from \"../Common/FormsControls/FormsControls\";\r\nimport { login } from \"./../../redux/auth-reducer\";\r\nimport style from \"./../Common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field\r\n          placeholder={\"Email\"}\r\n          name={\"email\"}\r\n          component={Input}\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          placeholder={\"Password\"}\r\n          name={\"password\"}\r\n          component={Input}\r\n          validate={[required]}\r\n          type=\"password\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field component={Input} name={\"rememberMe\"} type={\"checkbox\"} />\r\n        remember me\r\n      </div>\r\n      {error && (\r\n        <div className={style.formSummaryError}>{error}</div>\r\n      )}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe);\r\n  };\r\n  if (props.isAuth) {\r\n    return <Redirect to=\"/profile\" />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import { getAuthUserData } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n});\r\n\r\nexport const initializeApp = () => {\r\n  return (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n  };\r\n};\r\n\r\nexport default appReducer;\r\n","let initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default sidebarReducer;\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  auth: authReducer,\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import \"./App.css\";\nimport React from \"react\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport { HashRouter, Route, withRouter } from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport Login from \"./components/Login/Login\";\nimport { Component } from \"react\";\nimport { compose } from \"redux\";\nimport { connect, Provider } from \"react-redux\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport store from \"./redux/redux-store\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\n\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <React.Suspense fallback={<div>Loading...</div>}>\n            <Route\n              path=\"/profile/:userId?\"\n              render={() => {\n                return <ProfileContainer />;\n              }}\n            />\n            <Route\n              path=\"/dialogs\"\n              render={() => {\n                return <DialogsContainer />;\n              }}\n            />\n          </React.Suspense>\n          <Route path=\"/users\" render={() => <UsersContainer />} />\n          <Route path=\"/login\" render={() => <Login />} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n\nconst BananaJsApp = (props) => {\n  return (\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>\n  );\n};\n\nexport default BananaJsApp;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport BananaJsApp from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BananaJsApp/>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2T_gE\",\"error\":\"FormsControls_error__1-8Np\",\"formSummaryError\":\"FormsControls_formSummaryError__3mEEE\"};","import styles from \"./FormsControls.module.css\";\r\n\r\nconst FormControl = ({ input, meta, ...props }) => {\r\n  const hasError = meta.touched && meta.error;\r\n  return (\r\n    <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n      <div>{props.children}</div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/preloader.acf15138.png\";","import preloader from \"./../../../assets/images/preloader.png\";\r\n\r\nlet Preloader = (props) => {\r\n  return props.isFetching ? <img src={preloader} alt=\"preloader\" /> : null;\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2jCYZ\",\"img\":\"Header_img__38OWJ\",\"loginBlock\":\"Header_loginBlock__1YDWH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1ba3S\",\"pageNumber\":\"Paginator_pageNumber__2Nvqs\",\"selectedPage\":\"Paginator_selectedPage__14Ukz\"};","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n\r\nexport const maxLength30 = (value) => {\r\n  if (value.length > 30) return \"Max length is 30 symbols\";\r\n  return undefined;\r\n};\r\n","import { profileAPI } from \"./../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: \"Mix\", likesCount: 11 },\r\n    { id: 2, message: \"I'm fine\", likesCount: 12 },\r\n    { id: 3, message: \"Big day\", likesCount: 3 },\r\n  ],\r\n  profile: null,\r\n  isFetching: false,\r\n  status: \"\",\r\n};\r\n\r\nexport const addPost = (newPostBody) => ({\r\n  type: ADD_POST,\r\n  newPostBody,\r\n});\r\n\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\n\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\n\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\n\r\nexport const deletePost = (postId) => ({\r\n  type: DELETE_POST,\r\n  postId,\r\n});\r\n\r\nexport const getUserProfile = (userId) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    let response = await profileAPI.getProfile(userId);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUserProfile(response.data));\r\n  };\r\n};\r\n\r\nexport const getStatus = (userId) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n  };\r\n};\r\n\r\nexport const updateStatus = (status) => {\r\n  return async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  };\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostBody,\r\n        likesCount: 0,\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      };\r\n    case SET_USER_PROFILE:\r\n      return { ...state, profile: action.profile };\r\n    case SET_STATUS:\r\n      return { ...state, status: action.status };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((p) => p.id !== action.postId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}